C#### Comment: CELLML
C###  Description:
C###    blah blah blah...

C *** Set an arbitrary limit on the number of models
      INTEGER CELLML_MAX_MODELS
      PARAMETER(CELLML_MAX_MODELS=120)

C *** The cellML model locations - eventually should be allocated with
C     the dimension of NQVM
      CHARACTER CELLML_URIS(CELLML_MAX_MODELS)*132

C *** The cellML model labels
C      CHARACTER CELLML_LABELS(CELLML_MAX_MODELS)*132

C *** The array containing the model handles
      INTEGER*4 CELLML_MODELS(CELLML_MAX_MODELS)

C *** The array containing the model math handles
      INTEGER*4 CELLML_MODEL_MATH(CELLML_MAX_MODELS)

C *** The array containing the DSO handles
      INTEGER*4 CELLML_DSOS(CELLML_MAX_MODELS)

C *** The array containing the model RHS routines
      INTEGER*4 CELLML_ROUTINES(CELLML_MAX_MODELS)

C *** Need to know which models do and do not include the reserved
C     parameters and variables
      LOGICAL CELLML_CONTAINS_VM(CELLML_MAX_MODELS)
      LOGICAL CELLML_CONTAINS_AM(CELLML_MAX_MODELS)
      LOGICAL CELLML_CONTAINS_CM(CELLML_MAX_MODELS)

C *** Need to know if a model contains an electrical stimulus and if so
C     where to find it
      LOGICAL CELLML_CONTAINS_ISTIM(CELLML_MAX_MODELS)
      CHARACTER CELLML_ISTIM_ARRAY_NAME(CELLML_MAX_MODELS)*10
      INTEGER CELLML_ISTIM_ARRAY_INDEX(CELLML_MAX_MODELS)

      COMMON /CELLML_POINTER/ CELLML_DSOS,CELLML_ROUTINES,CELLML_MODELS,
     '  CELLML_MODEL_MATH
      COMMON /CELLML_CHARACTER/ CELLML_URIS,CELLML_ISTIM_ARRAY_NAME
      COMMON /CELLML_LOGICAL/ CELLML_CONTAINS_VM,CELLML_CONTAINS_AM,
     '  CELLML_CONTAINS_CM,CELLML_CONTAINS_ISTIM
      COMMON /CELLML_INTEGER/ CELLML_ISTIM_ARRAY_INDEX

      INTEGER CELL_NUM_AII(CELLML_MAX_MODELS),
     '  CELL_NUM_AIO(CELLML_MAX_MODELS),
     '  CELL_NUM_ARI(CELLML_MAX_MODELS),
     '  CELL_NUM_ARO(CELLML_MAX_MODELS),
     '  CELL_NUM_CONTROL(CELLML_MAX_MODELS),
     '  CELL_NUM_DERIVED(CELLML_MAX_MODELS),
     '  CELL_NUM_MODEL(CELLML_MAX_MODELS),
     '  CELL_NUM_PARAMETERS(CELLML_MAX_MODELS),
     '  CELL_NUM_PROTOCOL(CELLML_MAX_MODELS),
     '  CELL_NUM_STATE(CELLML_MAX_MODELS),
     '  CELL_NUM_VARIANTS,
     '  CELL_NUM_ODE(CELLML_MAX_MODELS)
      INTEGER CELL_AII_OFFSET(CELLML_MAX_MODELS),
     '  CELL_AIO_OFFSET(CELLML_MAX_MODELS),
     '  CELL_ARI_OFFSET(CELLML_MAX_MODELS),
     '  CELL_ARO_OFFSET(CELLML_MAX_MODELS),
     '  CELL_CONTROL_OFFSET(CELLML_MAX_MODELS),
     '  CELL_DERIVED_OFFSET(CELLML_MAX_MODELS),
     '  CELL_MODEL_OFFSET(CELLML_MAX_MODELS),
     '  CELL_PARAMETERS_OFFSET(CELLML_MAX_MODELS),
     '  CELL_PROTOCOL_OFFSET(CELLML_MAX_MODELS),
     '  CELL_STATE_OFFSET(CELLML_MAX_MODELS)

      COMMON /CELL_ARRAY_SIZES/ CELL_NUM_AII,CELL_NUM_AIO,
     '  CELL_NUM_ARI,CELL_NUM_ARO,CELL_NUM_CONTROL,CELL_NUM_DERIVED,
     '  CELL_NUM_MODEL,CELL_NUM_PARAMETERS,CELL_NUM_PROTOCOL,
     '  CELL_NUM_STATE,CELL_NUM_VARIANTS,CELL_NUM_ODE
      COMMON /CELL_ARRAY_OFFSETS/ CELL_AII_OFFSET,CELL_AIO_OFFSET,
     '  CELL_ARI_OFFSET,CELL_ARO_OFFSET,CELL_CONTROL_OFFSET,
     '  CELL_DERIVED_OFFSET,CELL_MODEL_OFFSET,CELL_PARAMETERS_OFFSET,
     '  CELL_PROTOCOL_OFFSET,CELL_STATE_OFFSET

      INTEGER CELL_VARIANT_OFFSET
      PARAMETER(CELL_VARIANT_OFFSET=1)
